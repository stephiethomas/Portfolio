(function(a){window.NggPaginatedGallery=function(d,b){this.displayed_gallery_id=d,this.container=a(b),this.container_name=b,this.get_displayed_gallery_obj=function(){var a='gallery_'+this.displayed_gallery_id;return typeof window.galleries[a]!='undefined'&&window.galleries[a]},this.enable_ajax_pagination=function(){var c=this;a('body').on('click','a.ngg-browser-prev, a.ngg-browser-next',function(e){var d=!0;if(a(this).parents(b).each(function(){if(a(this).data('nextgen-gallery-id')!=c.displayed_gallery_id)return!0;d=!1}),d)return;else e.preventDefault();window.ngg_ajax_operaton_count++,a('body, a').css('cursor','wait'),a.get(a(this).attr('href'),function(d){var e,b;window.ngg_ajax_operaton_count--,window.ngg_ajax_operaton_count<=0&&(window.ngg_ajax_operaton_count=0,a('body, a').css('cursor','auto')),d&&(e=a(d),b=!1,e.find(c.container_name).each(function(){if(b)return!0;if(a(this).data('nextgen-gallery-id')!=c.displayed_gallery_id)return!0;b=a(this)}),b&&c.container.each(function(){var d=a(this),e,f;return d.data('nextgen-gallery-id')!=c.displayed_gallery_id||(e=a(b.html()),f=e.find('img').toArray().map(function(b){return new Promise(function(d,e){var c=new Image;c.src=b.src,a(c).on('load',d)})}),Promise.all(f).then(function(){d.html(e),a(document).trigger('refreshed')}),!0)}))})})};var c=this.get_displayed_gallery_obj();c&&typeof c.display_settings.ajax_pagination!='undefined'&&parseInt(c.display_settings.ajax_pagination)&&this.enable_ajax_pagination(),typeof window.ngg_ajax_operation_count=='undefined'&&(window.ngg_ajax_operaton_count=0)},Object.setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},typeof window.galleries!='undefined'&&Object.setPrototypeOf(window.galleries,{get_api_version:function(){return'0.1'},get_from_id:function(b){for(var f=this,d=null,e=Object.keys(this),c=1,a;c<=e.length;c++)if(a=f[e[c-1]],a.ID===b||a.ID==='gallery_'+b||a.ID===parseInt(b)){d=a;break}return d},get_from_slug:function(e){for(var f=this,b=null,c=Object.keys(this),a=1,d;a<=c.length;a++)if(d=f[c[a-1]],d.slug===e){b=d;break}return b},get_setting:function(d,c,e){var a='',b=this.get_from_id(d);return b&&typeof b[c]!='undefined'?a=b[c]:a=e,a===1&&(a=!0),a===0&&(a=!1),a==='1'&&(a=!0),a==='0'&&(a=!1),a==='false'&&(a=!1),a==='true'&&(a=!0),a},get_display_setting:function(d,c,e){var a='',b=this.get_from_id(d);return b&&typeof b.display_settings[c]!='undefined'?a=b.display_settings[c]:a=e,a===1&&(a=!0),a===0&&(a=!1),a==='1'&&(a=!0),a==='0'&&(a=!1),a==='false'&&(a=!1),a==='true'&&(a=!0),a},is_widget:function(b){var c=!1,d=this.get_from_id(b),a=d.slug;return a?a.indexOf('widget-ngg-images')!==-1:c}})})(jQuery)